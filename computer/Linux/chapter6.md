---
title: 组管理和权限管理
icon: iconfont icon-linux
date: 2022-10-12
---

## Linux 组基本介绍

在 linux 中的每个用户必须属于一个组，不能独立于组外。

在 linux 中每个文件有所有者、所在组、其它组的概念

## 文件/目录 所有者

一般为文件的创建者,谁创建了该文件，就自然的成为该文件的所有者

### 查看文件的所有者

指令：ls –ahl

### 修改文件所有者

指令：chown 用户名 文件名

## 组的创建

### 基本指令

groupadd 组名

> 创建一个用户 fox ，并放入到 monster 组中 
>
> useradd -g monster fo

## 文件/目录 所在组

当某个用户创建了一个文件后，这个文件的所在组就是该用户所在的组(默认)

### 查看文件/目录所在组

- 基本指令

ls –ahl

### 修改文件/目录所在的组

- 基本指令

chgrp 组名 文件名

## 其它组

除文件的所有者和所在组的用户外，系统的其它用户都是文件的其它组

## 改变用户所在组

在添加用户时，可以指定将该用户添加到哪个组中，同样的用 root 的管理权限可以改变某个用户所在的组

### 改变用户所在组

usermod –g 新组名 用户名 

usermod –d 目录名 用户名 改变该用户登陆的初始目录。特别说明：用户需要有进入到新目录的权限

## 权限的基本介绍

ls -l 中显示的内容如下： -rwxrw-r-- 1 root root 1213 Feb 2 09-39 abc

0-9 位说明 

第 0 位确定文件类型(d, - , l , c , b) 

- l 是链接，相当于 windows 的快捷方式 
- d 是目录，相当于 windows 的文件夹 
- c 是字符设备文件，鼠标，键盘 
- b 是块设备，比如硬盘 

第 1-3 位确定所有者（该文件的所有者）拥有该文件的权限。---User 

第 4-6 位确定所属组（同用户组的）拥有该文件的权限，---Group 

第 7-9 位确定其他用户拥有该文件的权限 ---Other

## rwx 权限详解，难点

### rwx 作用到文件

- [ r ]代表可读(read): 可以读取,查看 
- [ w ]代表可写(write): 可以修改,但是不代表可以删除该文件,删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除该文件. 
- [ x ]代表可执行(execute):可以被执行

### rwx 作用到目录

- [ r ]代表可读(read): 可以读取，ls 查看目录内容 

- [ w ]代表可写(write): 可以修改, 对目录内创建+删除+重命名目录 

- [ x ]代表可执行(execute):可以进入该目录

## 修改权限-chmod

### 基本说明：

通过 chmod 指令，可以修改文件或者目录的权限

### 第一种方式：+ 、-、= 变更权限

u:所有者 g:所有组 o:其他人 a:所有人(u、g、o 的总和) 

- chmod u=rwx,g=rx,o=x 文件/目录名 
- chmod o+w 文件/目录名 
- chmod a-x 文件/目录

### 第二种方式：通过数字变更权限

r=4 w=2 x=1                  rwx=4+2+1=7 

chmod u=rwx,g=rx,o=x 文件目录名 

相当于 chmod 751 文件/目录名

## 修改文件所有者-chown

### 基本介绍

chown newowner 文件/目录 改变所有者 

chown newowner:newgroup 文件/目录 改变所有者和所在组 

-R 如果是目录 则使其下所有子文件或目录递归生效

## 修改文件/目录所在组-chgrp

### 基本介绍

chgrp newgroup 文件/目录 【 改变所在组】

