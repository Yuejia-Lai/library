---
date: 2022-06-18
---



# **计算机系统漫游**

::: tip

 作为整本书的**概述**，第一章显得尤其重要，既要让我们了解书籍各章节的内容，又要有趣生动，能吸引人读下去

:::

---



## hello.c

一切都从**hello.c程序**开始：

```cpp
#include <stdio.h>
int main(){
    printf("hello world");
    return 0;
}
```

欢迎来到计算机的世界！

---

## 信息就是位+上下文

1. hello.c（源文件）是0，1序列，八个位是一个字节，由ASCII字符构成，也成为文本文件
2. 通过翻译为低级机器语言指令并打包，成为可执行目标文件

> 编译器驱动程序：
>
> linux> gcc -o hello hello.c

![01-03 compilation systems](https://s2.loli.net/2022/07/11/WxAVUmyMvS24s7K.png)

- 预处理阶段：处理头文件
- 编译阶段：hello.i -> hello.s,汇编语言程序
- 汇编阶段：hello.s -> hello.o，可重定位目标程序
- 链接阶段：合并c标准库中的函数

---



## 理解编译器的工作流程：

> - 优化程序性能
> - 理解链接出现的错误
> - 避免安全漏洞

---



## 处理器读与解释内存中的指令

首先了解系统硬件构成：

> - 总线
> - I/O设备
> - 主存
> - 处理器（CPU）

![01-04 system hardwares](https://s2.loli.net/2022/07/11/Iv74mus9PigFTRG.png)

---



## 高速缓存

能提升程序性能，处理器与主存之间的读取速度差距很大

---



## 存储设备层次结构

![01-09 一个存储器层次结构的示例](https://s2.loli.net/2022/07/11/SCrXVgABMbqPJND.png)

::: tip

主要思想是上一层存储器作为第一层存储器的高速缓存

:::

---



## 操作系统管理硬件

操作系统两个基本功能：

- 防止硬件被失控程序滥用
- 向应用程序提供简单一致的机制来控制复杂繁多的硬件

一个进程可以有多个线程，之间可以数据共享，每个进程用一个虚拟内存：

![01-13 进程的虚拟地址空间](https://s2.loli.net/2022/07/11/v4dzTqb8rX97nKt.png)

文件是字节序列，所有I/O设备都可以看成文件

---



## 系统之间进行网络通信

网络也可视为I/O设备

---



## 并发并行

> 并发：系统同时进行多个活动
>
> 并行：用并发来加快系统运行

可以在系统多个概念层次上应用：

- 线程级并发：一个进程执行多个控制流（多处理器系统，超线程）
- 指令级并行：同时执行多条指令（流水线）
- 单指令，多数据并行：允许一条指令产生多个可以并行执行的操作

抽象是计算机很重要的概念，应用很广。